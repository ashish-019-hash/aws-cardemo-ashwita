<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .screen-box { fill: #e8f4fd; stroke: #2563eb; stroke-width: 2; rx: 8; }
      .menu-box { fill: #fef3c7; stroke: #d97706; stroke-width: 2; rx: 8; }
      .entry-box { fill: #dcfce7; stroke: #16a34a; stroke-width: 2; rx: 8; }
      .admin-box { fill: #fce7f3; stroke: #be185d; stroke-width: 2; rx: 8; }
      .text { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .title-text { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .small-text { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; }
      .arrow { stroke: #374151; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .pf-arrow { stroke: #7c3aed; stroke-width: 1.5; fill: none; marker-end: url(#pf-arrowhead); stroke-dasharray: 5,5; }
      .group-label { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #374151; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151" />
    </marker>
    <marker id="pf-arrowhead" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#7c3aed" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="700" y="30" class="group-label" style="font-size: 20px; text-anchor: middle;">CardDemo COBOL Application - Screen Flow Diagram</text>

  <!-- Entry Point -->
  <text x="700" y="70" class="group-label">Authentication Entry Point</text>
  <rect x="600" y="80" width="200" height="60" class="entry-box"/>
  <text x="700" y="105" class="title-text">COSGN00C</text>
  <text x="700" y="125" class="text">Sign-on Screen</text>

  <!-- Role-based Menu Split -->
  <text x="200" y="200" class="group-label">Admin Menu</text>
  <rect x="100" y="210" width="200" height="60" class="admin-box"/>
  <text x="200" y="235" class="title-text">COADM01C</text>
  <text x="200" y="255" class="text">Admin Menu (4 options)</text>

  <text x="1200" y="200" class="group-label">User Menu</text>
  <rect x="1100" y="210" width="200" height="60" class="menu-box"/>
  <text x="1200" y="235" class="title-text">COMEN01C</text>
  <text x="1200" y="255" class="text">Main Menu (10+ options)</text>

  <!-- Account Management Group -->
  <text x="200" y="350" class="group-label">Account Management</text>
  <rect x="50" y="370" width="150" height="50" class="screen-box"/>
  <text x="125" y="390" class="title-text">COACTVWC</text>
  <text x="125" y="405" class="small-text">Account View</text>

  <rect x="250" y="370" width="150" height="50" class="screen-box"/>
  <text x="325" y="390" class="title-text">COACTUPC</text>
  <text x="325" y="405" class="small-text">Account Update</text>

  <rect x="150" y="450" width="150" height="50" class="screen-box"/>
  <text x="225" y="470" class="title-text">COBIL00C</text>
  <text x="225" y="485" class="small-text">Bill Payment</text>

  <!-- Card Management Group -->
  <text x="600" y="350" class="group-label">Card Management</text>
  <rect x="500" y="370" width="150" height="50" class="screen-box"/>
  <text x="575" y="390" class="title-text">COCRDLIC</text>
  <text x="575" y="405" class="small-text">Card List</text>

  <rect x="450" y="450" width="150" height="50" class="screen-box"/>
  <text x="525" y="470" class="title-text">COCRDSLC</text>
  <text x="525" y="485" class="small-text">Card Detail View</text>

  <rect x="650" y="450" width="150" height="50" class="screen-box"/>
  <text x="725" y="470" class="title-text">COCRDUPC</text>
  <text x="725" y="485" class="small-text">Card Update</text>

  <!-- Transaction Management Group -->
  <text x="1000" y="350" class="group-label">Transaction Management</text>
  <rect x="900" y="370" width="150" height="50" class="screen-box"/>
  <text x="975" y="390" class="title-text">COTRN00C</text>
  <text x="975" y="405" class="small-text">Transaction List</text>

  <rect x="850" y="450" width="150" height="50" class="screen-box"/>
  <text x="925" y="470" class="title-text">COTRN01C</text>
  <text x="925" y="485" class="small-text">Transaction View</text>

  <rect x="1050" y="450" width="150" height="50" class="screen-box"/>
  <text x="1125" y="470" class="title-text">COTRN02C</text>
  <text x="1125" y="485" class="small-text">Add Transaction</text>

  <!-- User Administration Group -->
  <text x="200" y="580" class="group-label">User Administration (Admin Only)</text>
  <rect x="50" y="600" width="150" height="50" class="admin-box"/>
  <text x="125" y="620" class="title-text">COUSR00C</text>
  <text x="125" y="635" class="small-text">User List</text>

  <rect x="250" y="600" width="150" height="50" class="admin-box"/>
  <text x="325" y="620" class="title-text">COUSR01C</text>
  <text x="325" y="635" class="small-text">Add User</text>

  <rect x="50" y="680" width="150" height="50" class="admin-box"/>
  <text x="125" y="700" class="title-text">COUSR02C</text>
  <text x="125" y="715" class="small-text">Update User</text>

  <rect x="250" y="680" width="150" height="50" class="admin-box"/>
  <text x="325" y="700" class="title-text">COUSR03C</text>
  <text x="325" y="715" class="small-text">Delete User</text>

  <!-- Reporting -->
  <text x="600" y="580" class="group-label">Reporting</text>
  <rect x="550" y="600" width="150" height="50" class="screen-box"/>
  <text x="625" y="620" class="title-text">CORPT00C</text>
  <text x="625" y="635" class="small-text">Report Generation</text>

  <!-- Main Navigation Arrows -->
  <!-- Sign-on to Menus -->
  <line x1="650" y1="140" x2="250" y2="210" class="arrow"/>
  <text x="450" y="175" class="small-text">Admin Login</text>
  
  <line x1="750" y1="140" x2="1150" y2="210" class="arrow"/>
  <text x="950" y="175" class="small-text">User Login</text>

  <!-- Admin Menu to Functions -->
  <line x1="200" y1="270" x2="125" y2="370" class="arrow"/>
  <line x1="200" y1="270" x2="125" y2="600" class="arrow"/>

  <!-- User Menu to Functions -->
  <line x1="1150" y1="270" x2="125" y2="370" class="arrow"/>
  <line x1="1150" y1="270" x2="575" y2="370" class="arrow"/>
  <line x1="1150" y1="270" x2="975" y2="370" class="arrow"/>
  <line x1="1150" y1="270" x2="1125" y2="450" class="arrow"/>
  <line x1="1150" y1="270" x2="225" y2="450" class="arrow"/>
  <line x1="1150" y1="270" x2="625" y2="600" class="arrow"/>

  <!-- Account Management Internal Navigation -->
  <line x1="200" y1="395" x2="250" y2="395" class="arrow"/>
  <text x="225" y="385" class="small-text" style="font-size: 8px;">Update</text>

  <!-- Card Management Internal Navigation -->
  <line x1="575" y1="420" x2="525" y2="450" class="arrow"/>
  <text x="540" y="440" class="small-text" style="font-size: 8px;">S=View</text>
  
  <line x1="575" y1="420" x2="725" y2="450" class="arrow"/>
  <text x="650" y="440" class="small-text" style="font-size: 8px;">U=Update</text>

  <!-- Transaction Management Internal Navigation -->
  <line x1="975" y1="420" x2="925" y2="450" class="arrow"/>
  <text x="940" y="440" class="small-text" style="font-size: 8px;">S=View</text>

  <!-- User Administration Internal Navigation -->
  <line x1="125" y1="650" x2="325" y2="600" class="arrow"/>
  <text x="225" y="620" class="small-text" style="font-size: 8px;">Add</text>
  
  <line x1="125" y1="650" x2="125" y2="680" class="arrow"/>
  <text x="80" y="665" class="small-text" style="font-size: 8px;">U=Update</text>
  
  <line x1="125" y1="650" x2="325" y2="680" class="arrow"/>
  <text x="225" y="670" class="small-text" style="font-size: 8px;">D=Delete</text>

  <!-- PF Key Navigation (dashed lines) -->
  <line x1="125" y1="370" x2="700" y2="140" class="pf-arrow"/>
  <line x1="575" y1="370" x2="700" y2="140" class="pf-arrow"/>
  <line x1="975" y1="370" x2="700" y2="140" class="pf-arrow"/>

  <!-- Legend -->
  <text x="100" y="850" class="group-label">Legend</text>
  <rect x="50" y="860" width="80" height="30" class="entry-box"/>
  <text x="90" y="880" class="small-text">Entry Point</text>
  
  <rect x="150" y="860" width="80" height="30" class="menu-box"/>
  <text x="190" y="880" class="small-text">User Menu</text>
  
  <rect x="250" y="860" width="80" height="30" class="admin-box"/>
  <text x="290" y="880" class="small-text">Admin Only</text>
  
  <rect x="350" y="860" width="80" height="30" class="screen-box"/>
  <text x="390" y="880" class="small-text">Function Screen</text>

  <line x1="450" y1="875" x2="500" y2="875" class="arrow"/>
  <text x="525" y="880" class="small-text">XCTL Navigation</text>
  
  <line x1="600" y1="875" x2="650" y2="875" class="pf-arrow"/>
  <text x="675" y="880" class="small-text">PF3 Return</text>

  <!-- PF Key Reference -->
  <text x="100" y="920" class="group-label">Common PF Keys</text>
  <text x="50" y="940" class="small-text">PF3 = Exit/Return to Previous Screen</text>
  <text x="50" y="955" class="small-text">PF4 = Clear Current Screen</text>
  <text x="50" y="970" class="small-text">PF5 = Special Functions (varies by screen)</text>
  <text x="300" y="940" class="small-text">PF7 = Page Up (list screens)</text>
  <text x="300" y="955" class="small-text">PF8 = Page Down (list screens)</text>
  <text x="300" y="970" class="small-text">PF12 = Return to Main Menu</text>

  <!-- Selection Codes Reference -->
  <text x="600" y="920" class="group-label">List Screen Selection Codes</text>
  <text x="550" y="940" class="small-text">S = Select/View Record Details</text>
  <text x="550" y="955" class="small-text">U = Update Record</text>
  <text x="550" y="970" class="small-text">D = Delete Record (Admin only)</text>

</svg>
