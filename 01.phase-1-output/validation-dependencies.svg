<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; }
      .group-title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; }
      .rule-text { font-family: Arial, sans-serif; font-size: 11px; }
      .auth-group { fill: #e8f4fd; stroke: #1f77b4; stroke-width: 2; }
      .user-group { fill: #e8f5e8; stroke: #2ca02c; stroke-width: 2; }
      .trans-group { fill: #fff2e8; stroke: #ff7f0e; stroke-width: 2; }
      .account-group { fill: #f0e8ff; stroke: #9467bd; stroke-width: 2; }
      .card-group { fill: #ffe8e8; stroke: #d62728; stroke-width: 2; }
      .date-group { fill: #e8ffe8; stroke: #17becf; stroke-width: 2; }
      .menu-group { fill: #ffe8f0; stroke: #e377c2; stroke-width: 2; }
      .dependency-arrow { stroke: #666; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .or-connector { stroke: #999; stroke-width: 1; stroke-dasharray: 5,5; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="25" text-anchor="middle" class="title">CardDemo COBOL Validation Rules Dependencies</text>
  
  <!-- Authentication Group -->
  <rect x="50" y="50" width="200" height="120" class="auth-group" rx="5"/>
  <text x="150" y="70" text-anchor="middle" class="group-title">Authentication</text>
  <rect x="60" y="80" width="180" height="20" fill="white" stroke="#1f77b4"/>
  <text x="150" y="95" text-anchor="middle" class="rule-text">RULE-VAL-001: User ID Required</text>
  <rect x="60" y="105" width="180" height="20" fill="white" stroke="#1f77b4"/>
  <text x="150" y="120" text-anchor="middle" class="rule-text">RULE-VAL-002: Password Required</text>
  <rect x="60" y="130" width="180" height="20" fill="white" stroke="#1f77b4"/>
  <text x="150" y="145" text-anchor="middle" class="rule-text">RULE-VAL-003: Password Match</text>
  
  <!-- User Management Group -->
  <rect x="300" y="50" width="220" height="170" class="user-group" rx="5"/>
  <text x="410" y="70" text-anchor="middle" class="group-title">User Management</text>
  <rect x="310" y="80" width="200" height="20" fill="white" stroke="#2ca02c"/>
  <text x="410" y="95" text-anchor="middle" class="rule-text">RULE-VAL-004: First Name Required</text>
  <rect x="310" y="105" width="200" height="20" fill="white" stroke="#2ca02c"/>
  <text x="410" y="120" text-anchor="middle" class="rule-text">RULE-VAL-005: Last Name Required</text>
  <rect x="310" y="130" width="200" height="20" fill="white" stroke="#2ca02c"/>
  <text x="410" y="145" text-anchor="middle" class="rule-text">RULE-VAL-006: User ID Required</text>
  <rect x="310" y="155" width="200" height="20" fill="white" stroke="#2ca02c"/>
  <text x="410" y="170" text-anchor="middle" class="rule-text">RULE-VAL-007: Password Required</text>
  <rect x="310" y="180" width="200" height="20" fill="white" stroke="#2ca02c"/>
  <text x="410" y="195" text-anchor="middle" class="rule-text">RULE-VAL-008: User Type Required</text>
  <rect x="310" y="205" width="200" height="20" fill="white" stroke="#2ca02c"/>
  <text x="410" y="220" text-anchor="middle" class="rule-text">RULE-VAL-009: User ID Unique</text>
  
  <!-- Transaction Processing Group -->
  <rect x="50" y="250" width="300" height="220" class="trans-group" rx="5"/>
  <text x="200" y="270" text-anchor="middle" class="group-title">Transaction Processing</text>
  <rect x="60" y="280" width="130" height="20" fill="white" stroke="#ff7f0e"/>
  <text x="125" y="295" text-anchor="middle" class="rule-text">RULE-VAL-014: Acct ID Numeric</text>
  <rect x="210" y="280" width="130" height="20" fill="white" stroke="#ff7f0e"/>
  <text x="275" y="295" text-anchor="middle" class="rule-text">RULE-VAL-015: Card Num Numeric</text>
  <rect x="60" y="305" width="280" height="20" fill="white" stroke="#ff7f0e"/>
  <text x="200" y="320" text-anchor="middle" class="rule-text">RULE-VAL-016: Either Account ID or Card Number Required</text>
  <rect x="60" y="330" width="130" height="20" fill="white" stroke="#ff7f0e"/>
  <text x="125" y="345" text-anchor="middle" class="rule-text">RULE-VAL-017: Type Code Req</text>
  <rect x="210" y="330" width="130" height="20" fill="white" stroke="#ff7f0e"/>
  <text x="275" y="345" text-anchor="middle" class="rule-text">RULE-VAL-018: Category Req</text>
  <rect x="60" y="355" width="130" height="20" fill="white" stroke="#ff7f0e"/>
  <text x="125" y="370" text-anchor="middle" class="rule-text">RULE-VAL-019: Source Req</text>
  <rect x="210" y="355" width="130" height="20" fill="white" stroke="#ff7f0e"/>
  <text x="275" y="370" text-anchor="middle" class="rule-text">RULE-VAL-020: Description Req</text>
  <rect x="60" y="380" width="130" height="20" fill="white" stroke="#ff7f0e"/>
  <text x="125" y="395" text-anchor="middle" class="rule-text">RULE-VAL-021: Amount Req</text>
  <rect x="210" y="380" width="130" height="20" fill="white" stroke="#ff7f0e"/>
  <text x="275" y="395" text-anchor="middle" class="rule-text">RULE-VAL-022: Confirm Y/N</text>
  <rect x="60" y="405" width="280" height="20" fill="white" stroke="#ff7f0e"/>
  <text x="200" y="420" text-anchor="middle" class="rule-text">RULE-VAL-023: Transaction ID Required (View)</text>
  
  <!-- Account Management Group -->
  <rect x="400" y="250" width="180" height="95" class="account-group" rx="5"/>
  <text x="490" y="270" text-anchor="middle" class="group-title">Account Management</text>
  <rect x="410" y="280" width="160" height="20" fill="white" stroke="#9467bd"/>
  <text x="490" y="295" text-anchor="middle" class="rule-text">RULE-VAL-010: Account ID Req</text>
  <rect x="410" y="305" width="160" height="20" fill="white" stroke="#9467bd"/>
  <text x="490" y="320" text-anchor="middle" class="rule-text">RULE-VAL-011: Payment Confirm</text>
  
  <!-- Card Management Group -->
  <rect x="620" y="250" width="180" height="95" class="card-group" rx="5"/>
  <text x="710" y="270" text-anchor="middle" class="group-title">Card Management</text>
  <rect x="630" y="280" width="160" height="20" fill="white" stroke="#d62728"/>
  <text x="710" y="295" text-anchor="middle" class="rule-text">RULE-VAL-012: Acct ID Numeric</text>
  <rect x="630" y="305" width="160" height="20" fill="white" stroke="#d62728"/>
  <text x="710" y="320" text-anchor="middle" class="rule-text">RULE-VAL-013: Acct ID Required</text>
  
  <!-- Date Validation Group -->
  <rect x="50" y="500" width="250" height="145" class="date-group" rx="5"/>
  <text x="175" y="520" text-anchor="middle" class="group-title">Date Validation</text>
  <rect x="60" y="530" width="230" height="20" fill="white" stroke="#17becf"/>
  <text x="175" y="545" text-anchor="middle" class="rule-text">RULE-VAL-024: Date Format Validation</text>
  <rect x="60" y="555" width="230" height="20" fill="white" stroke="#17becf"/>
  <text x="175" y="570" text-anchor="middle" class="rule-text">RULE-VAL-025: Sufficient Data Check</text>
  <rect x="60" y="580" width="230" height="20" fill="white" stroke="#17becf"/>
  <text x="175" y="595" text-anchor="middle" class="rule-text">RULE-VAL-026: Valid Date Value</text>
  <rect x="60" y="605" width="230" height="20" fill="white" stroke="#17becf"/>
  <text x="175" y="620" text-anchor="middle" class="rule-text">RULE-VAL-027: Valid Month</text>
  
  <!-- Menu Navigation Group -->
  <rect x="350" y="500" width="200" height="95" class="menu-group" rx="5"/>
  <text x="450" y="520" text-anchor="middle" class="group-title">Menu Navigation</text>
  <rect x="360" y="530" width="180" height="20" fill="white" stroke="#e377c2"/>
  <text x="450" y="545" text-anchor="middle" class="rule-text">RULE-VAL-028: Menu Option Valid</text>
  <rect x="360" y="555" width="180" height="20" fill="white" stroke="#e377c2"/>
  <text x="450" y="570" text-anchor="middle" class="rule-text">RULE-VAL-029: User Type Access</text>
  
  <!-- Dependency Arrows -->
  <!-- Authentication Flow -->
  <line x1="150" y1="100" x2="150" y2="125" class="dependency-arrow"/>
  <line x1="150" y1="125" x2="150" y2="150" class="dependency-arrow"/>
  
  <!-- User Management Flow -->
  <line x1="410" y1="100" x2="410" y2="125" class="dependency-arrow"/>
  <line x1="410" y1="125" x2="410" y2="150" class="dependency-arrow"/>
  <line x1="410" y1="150" x2="410" y2="175" class="dependency-arrow"/>
  <line x1="410" y1="175" x2="410" y2="200" class="dependency-arrow"/>
  <line x1="410" y1="200" x2="410" y2="225" class="dependency-arrow"/>
  
  <!-- Transaction Processing Flow -->
  <!-- OR connector between Account ID and Card Number -->
  <line x1="125" y1="300" x2="200" y2="315" class="or-connector"/>
  <line x1="275" y1="300" x2="200" y2="315" class="or-connector"/>
  <text x="200" y="310" text-anchor="middle" class="rule-text" fill="#999">OR</text>
  
  <!-- Sequential flow after key validation -->
  <line x1="200" y1="325" x2="125" y2="340" class="dependency-arrow"/>
  <line x1="125" y1="350" x2="275" y2="340" class="dependency-arrow"/>
  <line x1="275" y1="350" x2="125" y2="365" class="dependency-arrow"/>
  <line x1="125" y1="375" x2="275" y2="365" class="dependency-arrow"/>
  <line x1="275" y1="375" x2="125" y2="390" class="dependency-arrow"/>
  <line x1="125" y1="400" x2="275" y2="390" class="dependency-arrow"/>
  
  <!-- Account Management Flow -->
  <line x1="490" y1="300" x2="490" y2="325" class="dependency-arrow"/>
  
  <!-- Card Management OR connector -->
  <line x1="710" y1="300" x2="710" y2="325" class="or-connector"/>
  <text x="720" y="312" class="rule-text" fill="#999">OR</text>
  
  <!-- Date Validation Flow -->
  <line x1="175" y1="550" x2="175" y2="575" class="dependency-arrow"/>
  <!-- OR branches for different validation types -->
  <line x1="175" y1="575" x2="120" y2="590" class="or-connector"/>
  <line x1="175" y1="575" x2="175" y2="590" class="or-connector"/>
  <line x1="175" y1="575" x2="230" y2="590" class="or-connector"/>
  <text x="175" y="585" text-anchor="middle" class="rule-text" fill="#999">OR</text>
  
  <!-- Menu Navigation Flow -->
  <line x1="450" y1="550" x2="450" y2="575" class="dependency-arrow"/>
  
  <!-- Legend -->
  <rect x="850" y="50" width="300" height="200" fill="white" stroke="#ccc" stroke-width="1" rx="5"/>
  <text x="1000" y="70" text-anchor="middle" class="group-title">Legend</text>
  
  <line x1="860" y1="90" x2="890" y2="90" class="dependency-arrow"/>
  <text x="900" y="95" class="rule-text">Sequential Dependency</text>
  
  <line x1="860" y1="110" x2="890" y2="110" class="or-connector"/>
  <text x="900" y="115" class="rule-text">OR Condition</text>
  
  <rect x="860" y="130" width="20" height="15" class="auth-group"/>
  <text x="890" y="142" class="rule-text">Authentication</text>
  
  <rect x="860" y="150" width="20" height="15" class="user-group"/>
  <text x="890" y="162" class="rule-text">User Management</text>
  
  <rect x="860" y="170" width="20" height="15" class="trans-group"/>
  <text x="890" y="182" class="rule-text">Transaction Processing</text>
  
  <rect x="860" y="190" width="20" height="15" class="account-group"/>
  <text x="890" y="202" class="rule-text">Account Management</text>
  
  <rect x="860" y="210" width="20" height="15" class="card-group"/>
  <text x="890" y="222" class="rule-text">Card Management</text>
  
  <rect x="1020" y="130" width="20" height="15" class="date-group"/>
  <text x="1050" y="142" class="rule-text">Date Validation</text>
  
  <rect x="1020" y="150" width="20" height="15" class="menu-group"/>
  <text x="1050" y="162" class="rule-text">Menu Navigation</text>
  
  <!-- Shared Triggers Section -->
  <rect x="850" y="280" width="300" height="150" fill="white" stroke="#ccc" stroke-width="1" rx="5"/>
  <text x="1000" y="300" text-anchor="middle" class="group-title">Shared Validation Triggers</text>
  
  <text x="860" y="320" class="rule-text">• ENTER Key Processing: Rules 1-2, 4-8, 10-11, 14-23, 28, 30-32</text>
  <text x="860" y="340" class="rule-text">• Mandatory Field Validation: Rules 1-2, 4-8, 10, 17-21, 23, 30-32, 41-46</text>
  <text x="860" y="360" class="rule-text">• Numeric Field Validation: Rules 12, 14-15, 28, 34-36, 38-40, 45</text>
  <text x="860" y="380" class="rule-text">• Code Value Validation: Rules 11, 22, 29, 33, 44, 48</text>
  <text x="860" y="400" class="rule-text">• Format Validation: Rules 34-40 (Phone/SSN), Cross-field: Rule 47</text>
  
  <!-- Summary Statistics -->
  <rect x="850" y="450" width="300" height="140" fill="white" stroke="#ccc" stroke-width="1" rx="5"/>
  <text x="1000" y="470" text-anchor="middle" class="group-title">Validation Summary</text>
  
  <text x="860" y="490" class="rule-text">Total Business Validation Rules: 48</text>
  <text x="860" y="510" class="rule-text">Authentication Rules: 3</text>
  <text x="860" y="530" class="rule-text">User Management Rules: 9</text>
  <text x="860" y="550" class="rule-text">Transaction Processing Rules: 10</text>
  <text x="860" y="570" class="rule-text">Personal Information Rules: 16</text>
  
  <!-- Footer -->
  <text x="600" y="780" text-anchor="middle" class="rule-text">Generated from CardDemo COBOL Application - Business Validation Rules Only</text>
</svg>
