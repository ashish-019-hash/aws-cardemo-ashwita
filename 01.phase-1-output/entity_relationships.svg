<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .entity-box { fill: #e6f3ff; stroke: #0066cc; stroke-width: 2; }
      .entity-title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .entity-attr { font-family: Arial, sans-serif; font-size: 11px; text-anchor: start; }
      .relationship-line { stroke: #333; stroke-width: 2; }
      .cardinality { font-family: Arial, sans-serif; font-size: 12px; font-weight: bold; text-anchor: middle; }
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; }
    </style>
  </defs>
  
  <!-- Title -->
  <text x="400" y="25" class="title">CardDemo Entity Relationship Diagram</text>
  
  <!-- Customer Entity -->
  <rect x="50" y="50" width="180" height="140" class="entity-box"/>
  <text x="140" y="70" class="entity-title">Customer</text>
  <text x="60" y="90" class="entity-attr">• Customer ID (PK)</text>
  <text x="60" y="105" class="entity-attr">• First Name</text>
  <text x="60" y="120" class="entity-attr">• Last Name</text>
  <text x="60" y="135" class="entity-attr">• Address Lines</text>
  <text x="60" y="150" class="entity-attr">• Phone Numbers</text>
  <text x="60" y="165" class="entity-attr">• SSN, DOB</text>
  <text x="60" y="180" class="entity-attr">• FICO Score</text>
  
  <!-- Account Entity -->
  <rect x="310" y="50" width="180" height="140" class="entity-box"/>
  <text x="400" y="70" class="entity-title">Account</text>
  <text x="320" y="90" class="entity-attr">• Account ID (PK)</text>
  <text x="320" y="105" class="entity-attr">• Customer ID (FK)</text>
  <text x="320" y="120" class="entity-attr">• Active Status</text>
  <text x="320" y="135" class="entity-attr">• Current Balance</text>
  <text x="320" y="150" class="entity-attr">• Credit Limit</text>
  <text x="320" y="165" class="entity-attr">• Open Date</text>
  <text x="320" y="180" class="entity-attr">• Group ID</text>
  
  <!-- Card Entity -->
  <rect x="570" y="50" width="180" height="140" class="entity-box"/>
  <text x="660" y="70" class="entity-title">Card</text>
  <text x="580" y="90" class="entity-attr">• Card Number (PK)</text>
  <text x="580" y="105" class="entity-attr">• Account ID (FK)</text>
  <text x="580" y="120" class="entity-attr">• CVV Code</text>
  <text x="580" y="135" class="entity-attr">• Card Name</text>
  <text x="580" y="150" class="entity-attr">• Card Status</text>
  <text x="580" y="165" class="entity-attr">• Expiration Date</text>
  
  <!-- Transaction Entity -->
  <rect x="440" y="280" width="180" height="160" class="entity-box"/>
  <text x="530" y="300" class="entity-title">Transaction</text>
  <text x="450" y="320" class="entity-attr">• Transaction ID (PK)</text>
  <text x="450" y="335" class="entity-attr">• Card Number (FK)</text>
  <text x="450" y="350" class="entity-attr">• Account ID (FK)</text>
  <text x="450" y="365" class="entity-attr">• Amount</text>
  <text x="450" y="380" class="entity-attr">• Transaction Date</text>
  <text x="450" y="395" class="entity-attr">• Type Code</text>
  <text x="450" y="410" class="entity-attr">• Merchant Info</text>
  <text x="450" y="425" class="entity-attr">• Description</text>
  
  <!-- User Entity (Standalone) -->
  <rect x="50" y="280" width="180" height="120" class="entity-box"/>
  <text x="140" y="300" class="entity-title">User</text>
  <text x="60" y="320" class="entity-attr">• User ID (PK)</text>
  <text x="60" y="335" class="entity-attr">• First Name</text>
  <text x="60" y="350" class="entity-attr">• Last Name</text>
  <text x="60" y="365" class="entity-attr">• Password</text>
  <text x="60" y="380" class="entity-attr">• User Type</text>
  
  <!-- Relationship Lines -->
  
  <!-- Customer to Account (1:N) -->
  <line x1="230" y1="120" x2="310" y2="120" class="relationship-line"/>
  <text x="250" y="110" class="cardinality">1</text>
  <text x="290" y="110" class="cardinality">N</text>
  
  <!-- Account to Card (1:N) -->
  <line x1="490" y1="120" x2="570" y2="120" class="relationship-line"/>
  <text x="510" y="110" class="cardinality">1</text>
  <text x="550" y="110" class="cardinality">N</text>
  
  <!-- Card to Transaction (1:N) -->
  <line x1="660" y1="190" x2="660" y2="240" class="relationship-line"/>
  <line x1="660" y1="240" x2="530" y2="240" class="relationship-line"/>
  <line x1="530" y1="240" x2="530" y2="280" class="relationship-line"/>
  <text x="670" y="215" class="cardinality">1</text>
  <text x="540" y="270" class="cardinality">N</text>
  
  <!-- Account to Transaction (1:N) - Alternative path -->
  <line x1="400" y1="190" x2="400" y2="240" class="relationship-line"/>
  <line x1="400" y1="240" x2="440" y2="240" class="relationship-line"/>
  <line x1="440" y1="240" x2="440" y2="280" class="relationship-line"/>
  <text x="410" y="215" class="cardinality">1</text>
  <text x="430" y="270" class="cardinality">N</text>
  
  <!-- Legend -->
  <rect x="50" y="480" width="300" height="80" fill="#f9f9f9" stroke="#ccc" stroke-width="1"/>
  <text x="60" y="500" class="entity-attr" style="font-weight: bold;">Legend:</text>
  <text x="60" y="520" class="entity-attr">• PK = Primary Key</text>
  <text x="60" y="535" class="entity-attr">• FK = Foreign Key</text>
  <text x="60" y="550" class="entity-attr">• 1:N = One-to-Many Relationship</text>
  
  <!-- Cross-Reference Note -->
  <rect x="400" y="480" width="350" height="80" fill="#fff9e6" stroke="#ffcc00" stroke-width="1"/>
  <text x="410" y="500" class="entity-attr" style="font-weight: bold;">Cross-Reference Files:</text>
  <text x="410" y="520" class="entity-attr">• CXACAIX: Account-Customer-Card Index</text>
  <text x="410" y="535" class="entity-attr">• CARDAIX: Card-Account Index</text>
  <text x="410" y="550" class="entity-attr">• CCXREF: Card Cross-Reference</text>
</svg>
