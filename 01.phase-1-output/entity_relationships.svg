<?xml version="1.0" encoding="UTF-8"?>
<svg width="1000" height="700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .entity-box { fill: #e6f3ff; stroke: #0066cc; stroke-width: 2; }
      .entity-title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .entity-attr { font-family: Arial, sans-serif; font-size: 11px; text-anchor: start; }
      .relationship-line { stroke: #333; stroke-width: 2; }
      .cardinality { font-family: Arial, sans-serif; font-size: 10px; font-weight: bold; text-anchor: middle; }
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; }
    </style>
  </defs>
  
  <!-- Title -->
  <text x="500" y="25" class="title">CardDemo COBOL Legacy System - Entity Relationship Diagram</text>
  
  <!-- Customer Entity -->
  <rect x="50" y="60" width="200" height="180" class="entity-box"/>
  <text x="150" y="80" class="entity-title">Customer</text>
  <text x="60" y="100" class="entity-attr">• Customer ID (PK)</text>
  <text x="60" y="115" class="entity-attr">• First Name</text>
  <text x="60" y="130" class="entity-attr">• Last Name</text>
  <text x="60" y="145" class="entity-attr">• Address Lines 1-3</text>
  <text x="60" y="160" class="entity-attr">• State/Country/ZIP</text>
  <text x="60" y="175" class="entity-attr">• Phone Numbers</text>
  <text x="60" y="190" class="entity-attr">• SSN</text>
  <text x="60" y="205" class="entity-attr">• Date of Birth</text>
  <text x="60" y="220" class="entity-attr">• FICO Score</text>
  
  <!-- Account Entity -->
  <rect x="350" y="60" width="200" height="180" class="entity-box"/>
  <text x="450" y="80" class="entity-title">Account</text>
  <text x="360" y="100" class="entity-attr">• Account ID (PK)</text>
  <text x="360" y="115" class="entity-attr">• Active Status</text>
  <text x="360" y="130" class="entity-attr">• Current Balance</text>
  <text x="360" y="145" class="entity-attr">• Credit Limit</text>
  <text x="360" y="160" class="entity-attr">• Cash Credit Limit</text>
  <text x="360" y="175" class="entity-attr">• Open Date</text>
  <text x="360" y="190" class="entity-attr">• Expiration Date</text>
  <text x="360" y="205" class="entity-attr">• Current Cycle Credit/Debit</text>
  <text x="360" y="220" class="entity-attr">• Group ID</text>
  
  <!-- Card Entity -->
  <rect x="650" y="60" width="200" height="140" class="entity-box"/>
  <text x="750" y="80" class="entity-title">Card</text>
  <text x="660" y="100" class="entity-attr">• Card Number (PK)</text>
  <text x="660" y="115" class="entity-attr">• Account ID (FK)</text>
  <text x="660" y="130" class="entity-attr">• CVV Code</text>
  <text x="660" y="145" class="entity-attr">• Embossed Name</text>
  <text x="660" y="160" class="entity-attr">• Expiration Date</text>
  <text x="660" y="175" class="entity-attr">• Active Status</text>
  
  <!-- Transaction Entity -->
  <rect x="650" y="280" width="200" height="140" class="entity-box"/>
  <text x="750" y="300" class="entity-title">Transaction</text>
  <text x="660" y="320" class="entity-attr">• Transaction ID (PK)</text>
  <text x="660" y="335" class="entity-attr">• Card Number (FK)</text>
  <text x="660" y="350" class="entity-attr">• Account ID (FK)</text>
  <text x="660" y="365" class="entity-attr">• Transaction Amount</text>
  <text x="660" y="380" class="entity-attr">• Transaction Date</text>
  <text x="660" y="395" class="entity-attr">• Transaction Type</text>
  
  <!-- User Entity -->
  <rect x="50" y="320" width="200" height="120" class="entity-box"/>
  <text x="150" y="340" class="entity-title">User</text>
  <text x="60" y="360" class="entity-attr">• User ID (PK)</text>
  <text x="60" y="375" class="entity-attr">• First Name</text>
  <text x="60" y="390" class="entity-attr">• Last Name</text>
  <text x="60" y="405" class="entity-attr">• Password</text>
  <text x="60" y="420" class="entity-attr">• User Type</text>
  
  <!-- Card Cross-Reference Entity -->
  <rect x="350" y="320" width="200" height="100" class="entity-box"/>
  <text x="450" y="340" class="entity-title">Card Cross-Reference</text>
  <text x="360" y="360" class="entity-attr">• Card Number (FK)</text>
  <text x="360" y="375" class="entity-attr">• Customer ID (FK)</text>
  <text x="360" y="390" class="entity-attr">• Account ID (FK)</text>
  
  <!-- Relationships -->
  
  <!-- Customer to Account (1:1) -->
  <line x1="250" y1="150" x2="350" y2="150" class="relationship-line"/>
  <text x="275" y="145" class="cardinality">1</text>
  <text x="325" y="145" class="cardinality">1</text>
  
  <!-- Account to Card (1:N) -->
  <line x1="550" y1="130" x2="650" y2="130" class="relationship-line"/>
  <text x="575" y="125" class="cardinality">1</text>
  <text x="625" y="125" class="cardinality">N</text>
  
  <!-- Card to Transaction (1:N) -->
  <line x1="750" y1="200" x2="750" y2="280" class="relationship-line"/>
  <text x="765" y="220" class="cardinality">1</text>
  <text x="765" y="260" class="cardinality">N</text>
  
  <!-- Customer to Card Cross-Reference -->
  <line x1="150" y1="240" x2="150" y2="280" class="relationship-line"/>
  <line x1="150" y1="280" x2="350" y2="280" class="relationship-line"/>
  <line x1="350" y1="280" x2="350" y2="320" class="relationship-line"/>
  <text x="165" y="275" class="cardinality">1</text>
  <text x="335" y="315" class="cardinality">N</text>
  
  <!-- Account to Card Cross-Reference -->
  <line x1="450" y1="240" x2="450" y2="320" class="relationship-line"/>
  <text x="465" y="280" class="cardinality">1:N</text>
  
  <!-- Card Cross-Reference to Card -->
  <line x1="550" y1="360" x2="650" y2="360" class="relationship-line"/>
  <line x1="650" y1="360" x2="650" y2="200" class="relationship-line"/>
  <text x="575" y="355" class="cardinality">N</text>
  <text x="635" y="220" class="cardinality">1</text>
  
  <!-- User manages all entities (Admin access) -->
  <line x1="150" y1="320" x2="150" y2="300" class="relationship-line"/>
  <line x1="150" y1="300" x2="450" y2="300" class="relationship-line"/>
  <line x1="450" y1="300" x2="750" y2="300" class="relationship-line"/>
  <text x="300" y="295" class="cardinality">User manages all entities</text>
  
  <!-- Legend -->
  <rect x="50" y="500" width="300" height="120" fill="#f9f9f9" stroke="#ccc" stroke-width="1"/>
  <text x="200" y="520" class="entity-title">Legend</text>
  <text x="60" y="540" class="entity-attr">PK = Primary Key</text>
  <text x="60" y="555" class="entity-attr">FK = Foreign Key</text>
  <text x="60" y="570" class="entity-attr">1:1 = One-to-One relationship</text>
  <text x="60" y="585" class="entity-attr">1:N = One-to-Many relationship</text>
  <text x="60" y="600" class="entity-attr">Card Cross-Reference enables efficient entity lookups</text>
  
</svg>
