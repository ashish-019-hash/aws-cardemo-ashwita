<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #2c3e50; }
      .program { font-family: Arial, sans-serif; font-size: 12px; font-weight: bold; fill: #2c3e50; }
      .transaction { font-family: Arial, sans-serif; font-size: 10px; fill: #7f8c8d; }
      .description { font-family: Arial, sans-serif; font-size: 10px; fill: #34495e; }
      .pf-key { font-family: Arial, sans-serif; font-size: 9px; fill: #e74c3c; }
      .auth-box { fill: #3498db; stroke: #2980b9; stroke-width: 2; }
      .menu-box { fill: #e67e22; stroke: #d35400; stroke-width: 2; }
      .function-box { fill: #27ae60; stroke: #229954; stroke-width: 2; }
      .admin-box { fill: #9b59b6; stroke: #8e44ad; stroke-width: 2; }
      .arrow { stroke: #2c3e50; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .conditional-arrow { stroke: #e74c3c; stroke-width: 2; fill: none; marker-end: url(#arrowhead); stroke-dasharray: 5,5; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="700" y="30" text-anchor="middle" class="title">CardDemo COBOL Application - Screen Flow Diagram</text>
  
  <!-- Authentication Layer -->
  <rect x="600" y="60" width="200" height="80" rx="10" class="auth-box"/>
  <text x="700" y="85" text-anchor="middle" class="program">COSGN00C</text>
  <text x="700" y="100" text-anchor="middle" class="transaction">SGON</text>
  <text x="700" y="115" text-anchor="middle" class="description">Sign-on Screen</text>
  <text x="700" y="130" text-anchor="middle" class="pf-key">PF3=Exit</text>
  
  <!-- Role-based Branching -->
  <text x="400" y="180" class="description">Admin User</text>
  <text x="900" y="180" class="description">Regular User</text>
  
  <!-- Admin Menu -->
  <rect x="300" y="200" width="200" height="80" rx="10" class="admin-box"/>
  <text x="400" y="225" text-anchor="middle" class="program">COADM01C</text>
  <text x="400" y="240" text-anchor="middle" class="transaction">CADM</text>
  <text x="400" y="255" text-anchor="middle" class="description">Admin Menu</text>
  <text x="400" y="270" text-anchor="middle" class="pf-key">PF3=Exit</text>
  
  <!-- User Menu -->
  <rect x="800" y="200" width="200" height="80" rx="10" class="menu-box"/>
  <text x="900" y="225" text-anchor="middle" class="program">COMEN01C</text>
  <text x="900" y="240" text-anchor="middle" class="transaction">OMEN</text>
  <text x="900" y="255" text-anchor="middle" class="description">Main Menu</text>
  <text x="900" y="270" text-anchor="middle" class="pf-key">PF3=Exit</text>
  
  <!-- User Management (Admin Only) -->
  <rect x="50" y="350" width="150" height="60" rx="8" class="admin-box"/>
  <text x="125" y="370" text-anchor="middle" class="program">COUSR00C</text>
  <text x="125" y="385" text-anchor="middle" class="transaction">CU00</text>
  <text x="125" y="400" text-anchor="middle" class="description">User List</text>
  
  <rect x="220" y="350" width="150" height="60" rx="8" class="admin-box"/>
  <text x="295" y="370" text-anchor="middle" class="program">COUSR01C</text>
  <text x="295" y="385" text-anchor="middle" class="transaction">CU01</text>
  <text x="295" y="400" text-anchor="middle" class="description">Add User</text>
  
  <rect x="390" y="350" width="150" height="60" rx="8" class="admin-box"/>
  <text x="465" y="370" text-anchor="middle" class="program">COUSR02C</text>
  <text x="465" y="385" text-anchor="middle" class="transaction">CU02</text>
  <text x="465" y="400" text-anchor="middle" class="description">Update User</text>
  
  <rect x="560" y="350" width="150" height="60" rx="8" class="admin-box"/>
  <text x="635" y="370" text-anchor="middle" class="program">COUSR03C</text>
  <text x="635" y="385" text-anchor="middle" class="transaction">CU03</text>
  <text x="635" y="400" text-anchor="middle" class="description">Delete User</text>
  
  <!-- Account Management -->
  <rect x="750" y="350" width="150" height="60" rx="8" class="function-box"/>
  <text x="825" y="370" text-anchor="middle" class="program">COACTVWC</text>
  <text x="825" y="385" text-anchor="middle" class="transaction">CAVW</text>
  <text x="825" y="400" text-anchor="middle" class="description">Account View</text>
  
  <rect x="920" y="350" width="150" height="60" rx="8" class="function-box"/>
  <text x="995" y="370" text-anchor="middle" class="program">COACTUPC</text>
  <text x="995" y="385" text-anchor="middle" class="transaction">CAUP</text>
  <text x="995" y="400" text-anchor="middle" class="description">Account Update</text>
  
  <!-- Card Management -->
  <rect x="750" y="450" width="150" height="60" rx="8" class="function-box"/>
  <text x="825" y="470" text-anchor="middle" class="program">COCRDLIC</text>
  <text x="825" y="485" text-anchor="middle" class="transaction">CCLI</text>
  <text x="825" y="500" text-anchor="middle" class="description">Card List</text>
  
  <rect x="920" y="450" width="150" height="60" rx="8" class="function-box"/>
  <text x="995" y="470" text-anchor="middle" class="program">COCRDSLC</text>
  <text x="995" y="485" text-anchor="middle" class="transaction">CCDL</text>
  <text x="995" y="500" text-anchor="middle" class="description">Card Details</text>
  
  <rect x="1090" y="450" width="150" height="60" rx="8" class="function-box"/>
  <text x="1165" y="470" text-anchor="middle" class="program">COCRDUPC</text>
  <text x="1165" y="485" text-anchor="middle" class="transaction">CCUP</text>
  <text x="1165" y="500" text-anchor="middle" class="description">Card Update</text>
  
  <!-- Transaction Management -->
  <rect x="750" y="550" width="150" height="60" rx="8" class="function-box"/>
  <text x="825" y="570" text-anchor="middle" class="program">COTRN00C</text>
  <text x="825" y="585" text-anchor="middle" class="transaction">CT00</text>
  <text x="825" y="600" text-anchor="middle" class="description">Transaction List</text>
  
  <rect x="920" y="550" width="150" height="60" rx="8" class="function-box"/>
  <text x="995" y="570" text-anchor="middle" class="program">COTRN01C</text>
  <text x="995" y="585" text-anchor="middle" class="transaction">CT01</text>
  <text x="995" y="600" text-anchor="middle" class="description">Transaction View</text>
  
  <rect x="1090" y="550" width="150" height="60" rx="8" class="function-box"/>
  <text x="1165" y="570" text-anchor="middle" class="program">COTRN02C</text>
  <text x="1165" y="585" text-anchor="middle" class="transaction">CT02</text>
  <text x="1165" y="600" text-anchor="middle" class="description">Add Transaction</text>
  
  <!-- Bill Payment & Reports -->
  <rect x="750" y="650" width="150" height="60" rx="8" class="function-box"/>
  <text x="825" y="670" text-anchor="middle" class="program">COBIL00C</text>
  <text x="825" y="685" text-anchor="middle" class="transaction">CB00</text>
  <text x="825" y="700" text-anchor="middle" class="description">Bill Payment</text>
  
  <rect x="920" y="650" width="150" height="60" rx="8" class="function-box"/>
  <text x="995" y="670" text-anchor="middle" class="program">CORPT00C</text>
  <text x="995" y="685" text-anchor="middle" class="transaction">CR00</text>
  <text x="995" y="700" text-anchor="middle" class="description">Reports</text>
  
  <!-- Main Flow Arrows -->
  <line x1="700" y1="140" x2="400" y2="190" class="conditional-arrow"/>
  <line x1="700" y1="140" x2="900" y2="190" class="conditional-arrow"/>
  
  <!-- Admin to User Management -->
  <line x1="400" y1="280" x2="125" y2="340" class="arrow"/>
  <line x1="400" y1="280" x2="295" y2="340" class="arrow"/>
  <line x1="400" y1="280" x2="465" y2="340" class="arrow"/>
  <line x1="400" y1="280" x2="635" y2="340" class="arrow"/>
  
  <!-- User Menu to Functions -->
  <line x1="900" y1="280" x2="825" y2="340" class="arrow"/>
  <line x1="900" y1="280" x2="995" y2="340" class="arrow"/>
  <line x1="900" y1="280" x2="825" y2="440" class="arrow"/>
  <line x1="900" y1="280" x2="995" y2="440" class="arrow"/>
  <line x1="900" y1="280" x2="1165" y2="440" class="arrow"/>
  <line x1="900" y1="280" x2="825" y2="540" class="arrow"/>
  <line x1="900" y1="280" x2="995" y2="540" class="arrow"/>
  <line x1="900" y1="280" x2="1165" y2="540" class="arrow"/>
  <line x1="900" y1="280" x2="825" y2="640" class="arrow"/>
  <line x1="900" y1="280" x2="995" y2="640" class="arrow"/>
  
  <!-- Inter-function Navigation -->
  <line x1="900" y1="450" x2="995" y2="450" class="arrow"/>
  <line x1="1070" y1="480" x2="1090" y2="480" class="arrow"/>
  <line x1="900" y1="550" x2="995" y2="550" class="arrow"/>
  <line x1="1070" y1="580" x2="1090" y2="580" class="arrow"/>
  
  <!-- PF Key Legend -->
  <rect x="50" y="750" width="300" height="200" rx="10" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="1"/>
  <text x="200" y="775" text-anchor="middle" class="program">PF Key Navigation</text>
  <text x="60" y="800" class="pf-key">PF3 = Exit/Return to Previous</text>
  <text x="60" y="820" class="pf-key">PF4 = Clear Current Screen</text>
  <text x="60" y="840" class="pf-key">PF5 = Special Functions</text>
  <text x="60" y="860" class="pf-key">PF7 = Page Up (Lists)</text>
  <text x="60" y="880" class="pf-key">PF8 = Page Down (Lists)</text>
  <text x="60" y="900" class="pf-key">PF12 = Admin Return</text>
  <text x="60" y="930" class="description">Selection Options:</text>
  <text x="60" y="945" class="pf-key">S = Select/View Details</text>
  <text x="60" y="960" class="pf-key">U = Update Record</text>
  <text x="60" y="975" class="pf-key">D = Delete Record</text>
  
  <!-- Color Legend -->
  <rect x="400" y="750" width="250" height="120" rx="10" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="1"/>
  <text x="525" y="775" text-anchor="middle" class="program">Screen Types</text>
  <rect x="410" y="785" width="20" height="15" class="auth-box"/>
  <text x="440" y="797" class="description">Authentication</text>
  <rect x="410" y="810" width="20" height="15" class="menu-box"/>
  <text x="440" y="822" class="description">Main Menu</text>
  <rect x="410" y="835" width="20" height="15" class="function-box"/>
  <text x="440" y="847" class="description">Business Functions</text>
  <rect x="410" y="860" width="20" height="15" class="admin-box"/>
  <text x="440" y="872" class="description">Admin Only</text>
  
  <!-- Flow Legend -->
  <rect x="700" y="750" width="200" height="80" rx="10" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="1"/>
  <text x="800" y="775" text-anchor="middle" class="program">Flow Types</text>
  <line x1="710" y1="790" x2="750" y2="790" class="arrow"/>
  <text x="760" y="795" class="description">Direct Navigation</text>
  <line x1="710" y1="810" x2="750" y2="810" class="conditional-arrow"/>
  <text x="760" y="815" class="description">Conditional Flow</text>
</svg>
