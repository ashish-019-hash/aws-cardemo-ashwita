<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .screen-box { fill: #e8f4fd; stroke: #2563eb; stroke-width: 2; }
      .menu-box { fill: #fef3c7; stroke: #d97706; stroke-width: 2; }
      .admin-box { fill: #fce7f3; stroke: #be185d; stroke-width: 2; }
      .utility-box { fill: #f0fdf4; stroke: #16a34a; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .small-text { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; }
      .arrow { stroke: #374151; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .pf-arrow { stroke: #dc2626; stroke-width: 1.5; fill: none; marker-end: url(#arrowhead); stroke-dasharray: 5,5; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="700" y="25" class="title" font-size="18">CardDemo CICS Application - Screen Flow Diagram</text>
  
  <!-- Sign-on Screen (Entry Point) -->
  <rect x="600" y="50" width="200" height="60" class="screen-box" />
  <text x="700" y="75" class="title">COSGN00C</text>
  <text x="700" y="90" class="text">Sign-on Screen</text>
  <text x="700" y="105" class="small-text">COSGN0A/COSGN00</text>
  
  <!-- Role-based routing arrows -->
  <line x1="650" y1="110" x2="350" y2="180" class="arrow" />
  <line x1="750" y1="110" x2="1050" y2="180" class="arrow" />
  <text x="500" y="150" class="small-text">Admin User</text>
  <text x="900" y="150" class="small-text">Regular User</text>
  
  <!-- Admin Menu -->
  <rect x="250" y="180" width="200" height="60" class="admin-box" />
  <text x="350" y="205" class="title">COADM01C</text>
  <text x="350" y="220" class="text">Admin Menu</text>
  <text x="350" y="235" class="small-text">COADM1A/COADM01</text>
  
  <!-- Regular User Menu -->
  <rect x="950" y="180" width="200" height="60" class="menu-box" />
  <text x="1050" y="205" class="title">COMEN01C</text>
  <text x="1050" y="220" class="text">Main Menu</text>
  <text x="1050" y="235" class="small-text">COMEN1A/COMEN01</text>
  
  <!-- Account Management Section -->
  <rect x="50" y="300" width="150" height="50" class="screen-box" />
  <text x="125" y="320" class="title">COACTVWC</text>
  <text x="125" y="335" class="text">Account View</text>
  
  <rect x="220" y="300" width="150" height="50" class="screen-box" />
  <text x="295" y="320" class="title">COACTUPC</text>
  <text x="295" y="335" class="text">Account Update</text>
  
  <rect x="390" y="300" width="150" height="50" class="screen-box" />
  <text x="465" y="320" class="title">COBIL00C</text>
  <text x="465" y="335" class="text">Bill Payment</text>
  
  <!-- Card Management Section -->
  <rect x="600" y="300" width="150" height="50" class="screen-box" />
  <text x="675" y="320" class="title">COCRDLIC</text>
  <text x="675" y="335" class="text">Card List</text>
  
  <rect x="770" y="300" width="150" height="50" class="screen-box" />
  <text x="845" y="320" class="title">COCRDSLC</text>
  <text x="845" y="335" class="text">Card Details</text>
  
  <rect x="940" y="300" width="150" height="50" class="screen-box" />
  <text x="1015" y="320" class="title">COCRDUPC</text>
  <text x="1015" y="335" class="text">Card Update</text>
  
  <!-- Transaction Management Section -->
  <rect x="1110" y="300" width="150" height="50" class="screen-box" />
  <text x="1185" y="320" class="title">COTRN00C</text>
  <text x="1185" y="335" class="text">Transaction List</text>
  
  <rect x="1110" y="370" width="150" height="50" class="screen-box" />
  <text x="1185" y="390" class="title">COTRN01C</text>
  <text x="1185" y="405" class="text">Transaction View</text>
  
  <rect x="1110" y="440" width="150" height="50" class="screen-box" />
  <text x="1185" y="460" class="title">COTRN02C</text>
  <text x="1185" y="475" class="text">Add Transaction</text>
  
  <!-- User Administration Section (Admin Only) -->
  <rect x="50" y="400" width="120" height="50" class="admin-box" />
  <text x="110" y="420" class="title">COUSR00C</text>
  <text x="110" y="435" class="text">User List</text>
  
  <rect x="190" y="400" width="120" height="50" class="admin-box" />
  <text x="250" y="420" class="title">COUSR01C</text>
  <text x="250" y="435" class="text">Add User</text>
  
  <rect x="330" y="400" width="120" height="50" class="admin-box" />
  <text x="390" y="420" class="title">COUSR02C</text>
  <text x="390" y="435" class="text">Update User</text>
  
  <rect x="470" y="400" width="120" height="50" class="admin-box" />
  <text x="530" y="420" class="title">COUSR03C</text>
  <text x="530" y="435" class="text">Delete User</text>
  
  <!-- Reporting Section -->
  <rect x="650" y="400" width="150" height="50" class="utility-box" />
  <text x="725" y="420" class="title">CORPT00C</text>
  <text x="725" y="435" class="text">Reports</text>
  
  <!-- Utility Section -->
  <rect x="820" y="400" width="150" height="50" class="utility-box" />
  <text x="895" y="420" class="title">CSUTLDTC</text>
  <text x="895" y="435" class="text">Date Utility</text>
  
  <!-- Navigation arrows from menus to functions -->
  <!-- Admin menu to admin functions -->
  <line x1="350" y1="240" x2="125" y2="300" class="arrow" />
  <line x1="350" y1="240" x2="295" y2="300" class="arrow" />
  <line x1="350" y1="240" x2="465" y2="300" class="arrow" />
  <line x1="350" y1="240" x2="675" y2="300" class="arrow" />
  <line x1="350" y1="240" x2="1185" y2="300" class="arrow" />
  <line x1="350" y1="240" x2="110" y2="400" class="arrow" />
  <line x1="350" y1="240" x2="725" y2="400" class="arrow" />
  
  <!-- Regular user menu to user functions -->
  <line x1="1050" y1="240" x2="125" y2="300" class="arrow" />
  <line x1="1050" y1="240" x2="465" y2="300" class="arrow" />
  <line x1="1050" y1="240" x2="675" y2="300" class="arrow" />
  <line x1="1050" y1="240" x2="1185" y2="300" class="arrow" />
  <line x1="1050" y1="240" x2="725" y2="400" class="arrow" />
  
  <!-- Card management flow -->
  <line x1="750" y1="325" x2="770" y2="325" class="arrow" />
  <line x1="920" y1="325" x2="940" y2="325" class="arrow" />
  <text x="760" y="320" class="small-text">S</text>
  <text x="930" y="320" class="small-text">U</text>
  
  <!-- Transaction flow -->
  <line x1="1185" y1="350" x2="1185" y2="370" class="arrow" />
  <line x1="1185" y1="420" x2="1185" y2="440" class="arrow" />
  <text x="1200" y="360" class="small-text">S</text>
  <text x="1200" y="430" class="small-text">Add</text>
  
  <!-- User administration flow -->
  <line x1="170" y1="425" x2="190" y2="425" class="arrow" />
  <line x1="310" y1="425" x2="330" y2="425" class="arrow" />
  <line x1="450" y1="425" x2="470" y2="425" class="arrow" />
  <text x="180" y="420" class="small-text">Add</text>
  <text x="320" y="420" class="small-text">U</text>
  <text x="460" y="420" class="small-text">D</text>
  
  <!-- PF Key Navigation (dashed red lines) -->
  <line x1="125" y1="350" x2="700" y2="50" class="pf-arrow" />
  <line x1="295" y1="350" x2="700" y2="50" class="pf-arrow" />
  <line x1="675" y1="350" x2="700" y2="50" class="pf-arrow" />
  <line x1="1185" y1="350" x2="700" y2="50" class="pf-arrow" />
  
  <!-- Legend -->
  <rect x="50" y="550" width="300" height="180" fill="none" stroke="#374151" stroke-width="1" />
  <text x="200" y="570" class="title">Legend</text>
  
  <rect x="70" y="580" width="20" height="15" class="screen-box" />
  <text x="100" y="592" class="small-text" text-anchor="start">Regular Screens</text>
  
  <rect x="70" y="600" width="20" height="15" class="menu-box" />
  <text x="100" y="612" class="small-text" text-anchor="start">User Menu</text>
  
  <rect x="70" y="620" width="20" height="15" class="admin-box" />
  <text x="100" y="632" class="small-text" text-anchor="start">Admin Functions</text>
  
  <rect x="70" y="640" width="20" height="15" class="utility-box" />
  <text x="100" y="652" class="small-text" text-anchor="start">Utilities/Reports</text>
  
  <line x1="70" y1="665" x2="120" y2="665" class="arrow" />
  <text x="130" y="670" class="small-text" text-anchor="start">Program Flow</text>
  
  <line x1="70" y1="685" x2="120" y2="685" class="pf-arrow" />
  <text x="130" y="690" class="small-text" text-anchor="start">PF3 Exit to Sign-on</text>
  
  <text x="70" y="710" class="small-text" text-anchor="start">S = Select, U = Update, D = Delete</text>
  
  <!-- Key Navigation Info -->
  <rect x="400" y="550" width="350" height="180" fill="none" stroke="#374151" stroke-width="1" />
  <text x="575" y="570" class="title">Key Navigation Patterns</text>
  
  <text x="420" y="590" class="small-text" text-anchor="start">ENTER - Process input/Navigate</text>
  <text x="420" y="605" class="small-text" text-anchor="start">PF3 - Exit to previous screen/Sign-on</text>
  <text x="420" y="620" class="small-text" text-anchor="start">PF4 - Clear current screen</text>
  <text x="420" y="635" class="small-text" text-anchor="start">PF5 - Save/Return to transaction list</text>
  <text x="420" y="650" class="small-text" text-anchor="start">PF7 - Page up (list screens)</text>
  <text x="420" y="665" class="small-text" text-anchor="start">PF8 - Page down (list screens)</text>
  <text x="420" y="680" class="small-text" text-anchor="start">PF12 - Cancel/Return to admin menu</text>
  
  <text x="420" y="700" class="small-text" text-anchor="start">All navigation uses EXEC CICS XCTL</text>
  <text x="420" y="715" class="small-text" text-anchor="start">BMS maps handle screen I/O</text>
  
  <!-- Transaction IDs -->
  <rect x="800" y="550" width="250" height="180" fill="none" stroke="#374151" stroke-width="1" />
  <text x="925" y="570" class="title">Transaction IDs</text>
  
  <text x="820" y="590" class="small-text" text-anchor="start">COSGN - Sign-on (COSGN00C)</text>
  <text x="820" y="605" class="small-text" text-anchor="start">CM00 - Main Menu (COMEN01C)</text>
  <text x="820" y="620" class="small-text" text-anchor="start">CADM - Admin Menu (COADM01C)</text>
  <text x="820" y="635" class="small-text" text-anchor="start">CAVW - Account View (COACTVWC)</text>
  <text x="820" y="650" class="small-text" text-anchor="start">CAUP - Account Update (COACTUPC)</text>
  <text x="820" y="665" class="small-text" text-anchor="start">CB00 - Bill Payment (COBIL00C)</text>
  <text x="820" y="680" class="small-text" text-anchor="start">CCLI - Card List (COCRDLIC)</text>
  <text x="820" y="695" class="small-text" text-anchor="start">CT00/CT01/CT02 - Transactions</text>
  <text x="820" y="710" class="small-text" text-anchor="start">CU00/CU01/CU02/CU03 - Users</text>
</svg>
