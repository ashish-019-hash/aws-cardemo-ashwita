<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .screen-box { fill: #e8f4fd; stroke: #2563eb; stroke-width: 2; }
      .menu-box { fill: #fef3c7; stroke: #d97706; stroke-width: 2; }
      .auth-box { fill: #dcfce7; stroke: #16a34a; stroke-width: 2; }
      .admin-box { fill: #fce7f3; stroke: #be185d; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .small-text { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; }
      .arrow { stroke: #374151; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .pf-arrow { stroke: #dc2626; stroke-width: 1.5; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="700" y="30" class="title" font-size="18">CardDemo Application - Screen Flow Diagram</text>
  
  <!-- Authentication Layer -->
  <rect x="600" y="60" width="200" height="60" class="auth-box" />
  <text x="700" y="85" class="title">COSGN00C</text>
  <text x="700" y="100" class="text">Sign-on Screen</text>
  <text x="700" y="115" class="small-text">TranID: CC00</text>
  
  <!-- Role-based routing arrows -->
  <line x1="650" y1="120" x2="400" y2="180" class="arrow" />
  <line x1="750" y1="120" x2="1000" y2="180" class="arrow" />
  <text x="525" y="155" class="small-text">Admin User</text>
  <text x="875" y="155" class="small-text">Regular User</text>
  
  <!-- Admin Menu -->
  <rect x="300" y="180" width="200" height="60" class="admin-box" />
  <text x="400" y="205" class="title">COADM01C</text>
  <text x="400" y="220" class="text">Admin Menu</text>
  <text x="400" y="235" class="small-text">TranID: CA00</text>
  
  <!-- Regular User Menu -->
  <rect x="900" y="180" width="200" height="60" class="menu-box" />
  <text x="1000" y="205" class="title">COMEN01C</text>
  <text x="1000" y="220" class="text">Regular User Menu</text>
  <text x="1000" y="235" class="small-text">TranID: CM00</text>
  
  <!-- Account Management Module -->
  <rect x="50" y="320" width="180" height="50" class="screen-box" />
  <text x="140" y="340" class="title">COACTVWC</text>
  <text x="140" y="355" class="text">Account View</text>
  <text x="140" y="365" class="small-text">TranID: CAVW</text>
  
  <rect x="50" y="390" width="180" height="50" class="screen-box" />
  <text x="140" y="410" class="title">COACTUPC</text>
  <text x="140" y="425" class="text">Account Update</text>
  <text x="140" y="435" class="small-text">TranID: CAUP</text>
  
  <!-- Card Management Module -->
  <rect x="280" y="320" width="180" height="50" class="screen-box" />
  <text x="370" y="340" class="title">COCRDLIC</text>
  <text x="370" y="355" class="text">Card List</text>
  <text x="370" y="365" class="small-text">TranID: CCLI</text>
  
  <rect x="280" y="390" width="180" height="50" class="screen-box" />
  <text x="370" y="410" class="title">COCRDSLC</text>
  <text x="370" y="425" class="text">Card Detail</text>
  <text x="370" y="435" class="small-text">TranID: CCDL</text>
  
  <rect x="280" y="460" width="180" height="50" class="screen-box" />
  <text x="370" y="480" class="title">COCRDUPC</text>
  <text x="370" y="495" class="text">Card Update</text>
  <text x="370" y="505" class="small-text">TranID: CCUP</text>
  
  <!-- Transaction Management Module -->
  <rect x="510" y="320" width="180" height="50" class="screen-box" />
  <text x="600" y="340" class="title">COTRN00C</text>
  <text x="600" y="355" class="text">Transaction List</text>
  <text x="600" y="365" class="small-text">TranID: CT00</text>
  
  <rect x="510" y="390" width="180" height="50" class="screen-box" />
  <text x="600" y="410" class="title">COTRN01C</text>
  <text x="600" y="425" class="text">Transaction View</text>
  <text x="600" y="435" class="small-text">TranID: CT01</text>
  
  <rect x="510" y="460" width="180" height="50" class="screen-box" />
  <text x="600" y="480" class="title">COTRN02C</text>
  <text x="600" y="495" class="text">Add Transaction</text>
  <text x="600" y="505" class="small-text">TranID: CT02</text>
  
  <!-- User Management Module (Admin Only) -->
  <rect x="740" y="320" width="180" height="50" class="admin-box" />
  <text x="830" y="340" class="title">COUSR00C</text>
  <text x="830" y="355" class="text">User List</text>
  <text x="830" y="365" class="small-text">TranID: CU00</text>
  
  <rect x="740" y="390" width="180" height="50" class="admin-box" />
  <text x="830" y="410" class="title">COUSR01C</text>
  <text x="830" y="425" class="text">Add User</text>
  <text x="830" y="435" class="small-text">TranID: CU01</text>
  
  <rect x="740" y="460" width="180" height="50" class="admin-box" />
  <text x="830" y="480" class="title">COUSR02C</text>
  <text x="830" y="495" class="text">Update User</text>
  <text x="830" y="505" class="small-text">TranID: CU02</text>
  
  <rect x="740" y="530" width="180" height="50" class="admin-box" />
  <text x="830" y="550" class="title">COUSR03C</text>
  <text x="830" y="565" class="text">Delete User</text>
  <text x="830" y="575" class="small-text">TranID: CU03</text>
  
  <!-- Bill Payment Module -->
  <rect x="970" y="320" width="180" height="50" class="screen-box" />
  <text x="1060" y="340" class="title">COBIL00C</text>
  <text x="1060" y="355" class="text">Bill Payment</text>
  <text x="1060" y="365" class="small-text">TranID: CBIL</text>
  
  <!-- Reports Module -->
  <rect x="1200" y="320" width="180" height="50" class="screen-box" />
  <text x="1290" y="340" class="title">CORPT00C</text>
  <text x="1290" y="355" class="text">Reports</text>
  <text x="1290" y="365" class="small-text">TranID: CRPT</text>
  
  <!-- Menu to Module Navigation Arrows -->
  <line x1="400" y1="240" x2="140" y2="320" class="arrow" />
  <line x1="400" y1="240" x2="370" y2="320" class="arrow" />
  <line x1="400" y1="240" x2="600" y2="320" class="arrow" />
  <line x1="400" y1="240" x2="830" y2="320" class="arrow" />
  <line x1="400" y1="240" x2="1290" y2="320" class="arrow" />
  
  <line x1="1000" y1="240" x2="140" y2="320" class="arrow" />
  <line x1="1000" y1="240" x2="370" y2="320" class="arrow" />
  <line x1="1000" y1="240" x2="600" y2="320" class="arrow" />
  <line x1="1000" y1="240" x2="1060" y2="320" class="arrow" />
  
  <!-- Module Internal Navigation -->
  <line x1="140" y1="370" x2="140" y2="390" class="arrow" />
  <line x1="370" y1="370" x2="370" y2="390" class="arrow" />
  <line x1="370" y1="440" x2="370" y2="460" class="arrow" />
  <line x1="600" y1="370" x2="600" y2="390" class="arrow" />
  <line x1="830" y1="370" x2="830" y2="390" class="arrow" />
  <line x1="830" y1="440" x2="830" y2="460" class="arrow" />
  <line x1="830" y1="510" x2="830" y2="530" class="arrow" />
  
  <!-- PF Key Navigation Legend -->
  <rect x="50" y="650" width="300" height="200" fill="#f9fafb" stroke="#d1d5db" stroke-width="1" />
  <text x="200" y="675" class="title">PF Key Navigation</text>
  <text x="70" y="700" class="text">PF3 - Exit to Previous/Menu</text>
  <text x="70" y="720" class="text">PF4 - Clear Current Screen</text>
  <text x="70" y="740" class="text">PF5 - Return to List Screen</text>
  <text x="70" y="760" class="text">PF7 - Page Up</text>
  <text x="70" y="780" class="text">PF8 - Page Down</text>
  <text x="70" y="800" class="text">ENTER - Process Input</text>
  <text x="70" y="820" class="text">Selection Codes:</text>
  <text x="70" y="835" class="text">S - Select/View, U - Update, D - Delete</text>
  
  <!-- Navigation Flow Legend -->
  <rect x="400" y="650" width="350" height="200" fill="#f9fafb" stroke="#d1d5db" stroke-width="1" />
  <text x="575" y="675" class="title">Navigation Flow Types</text>
  <line x1="420" y1="690" x2="460" y2="690" class="arrow" />
  <text x="480" y="695" class="text">Menu Option Selection</text>
  <line x1="420" y1="710" x2="460" y2="710" class="pf-arrow" />
  <text x="480" y="715" class="text">PF Key Navigation</text>
  <text x="420" y="735" class="text">XCTL Program Transfer</text>
  <text x="420" y="755" class="text">CICS SEND/RECEIVE Map</text>
  <text x="420" y="775" class="text">Role-based Access Control</text>
  <text x="420" y="795" class="text">Pseudo-conversational Flow</text>
  <text x="420" y="815" class="text">Context Preservation via COMMAREA</text>
  
  <!-- Screen Categories Legend -->
  <rect x="800" y="650" width="250" height="200" fill="#f9fafb" stroke="#d1d5db" stroke-width="1" />
  <text x="925" y="675" class="title">Screen Categories</text>
  <rect x="820" y="690" width="20" height="15" class="auth-box" />
  <text x="850" y="702" class="text">Authentication</text>
  <rect x="820" y="715" width="20" height="15" class="menu-box" />
  <text x="850" y="727" class="text">Regular User Menu</text>
  <rect x="820" y="740" width="20" height="15" class="admin-box" />
  <text x="850" y="752" class="text">Admin Functions</text>
  <rect x="820" y="765" width="20" height="15" class="screen-box" />
  <text x="850" y="777" class="text">Business Functions</text>
  
  <!-- Application Flow Summary -->
  <text x="700" y="920" class="title">Application Flow Summary</text>
  <text x="700" y="940" class="text">1. User authenticates via COSGN00C â†’ Role-based routing to COMEN01C or COADM01C</text>
  <text x="700" y="955" class="text">2. Menu selection triggers XCTL to functional modules with COMMAREA context</text>
  <text x="700" y="970" class="text">3. Functional modules use CICS SEND/RECEIVE for screen interaction</text>
  <text x="700" y="985" class="text">4. PF keys provide consistent navigation: Exit (PF3), Clear (PF4), Return (PF5), Paging (PF7/PF8)</text>
</svg>
