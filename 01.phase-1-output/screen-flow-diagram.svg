<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .screen-box { fill: #e8f4fd; stroke: #2563eb; stroke-width: 2; }
      .menu-box { fill: #fef3c7; stroke: #d97706; stroke-width: 2; }
      .admin-box { fill: #fee2e2; stroke: #dc2626; stroke-width: 2; }
      .entry-box { fill: #dcfce7; stroke: #16a34a; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .title-text { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .small-text { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; }
      .arrow { stroke: #374151; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .pf-arrow { stroke: #7c3aed; stroke-width: 1.5; fill: none; marker-end: url(#arrowhead); }
      .admin-arrow { stroke: #dc2626; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="700" y="25" class="title-text" font-size="18">CardDemo COBOL Application Screen Flow</text>
  
  <!-- Entry Point -->
  <rect x="600" y="50" width="200" height="60" class="entry-box" rx="5"/>
  <text x="700" y="75" class="title-text">COSGN0A</text>
  <text x="700" y="90" class="text">Sign-on Screen</text>
  <text x="700" y="105" class="small-text">CSSN</text>
  
  <!-- Role-based branching -->
  <line x1="650" y1="110" x2="400" y2="160" class="arrow"/>
  <line x1="750" y1="110" x2="1000" y2="160" class="admin-arrow"/>
  <text x="525" y="140" class="small-text">Regular User</text>
  <text x="875" y="140" class="small-text">Admin User</text>
  
  <!-- Main Menu (Regular Users) -->
  <rect x="300" y="170" width="200" height="60" class="menu-box" rx="5"/>
  <text x="400" y="195" class="title-text">COMEN1A</text>
  <text x="400" y="210" class="text">Main Menu</text>
  <text x="400" y="225" class="small-text">CM00</text>
  
  <!-- Admin Menu -->
  <rect x="900" y="170" width="200" height="60" class="admin-box" rx="5"/>
  <text x="1000" y="195" class="title-text">COADM1A</text>
  <text x="1000" y="210" class="text">Admin Menu</text>
  <text x="1000" y="225" class="small-text">CA00</text>
  
  <!-- User Management (Admin Only) -->
  <rect x="1200" y="280" width="150" height="50" class="admin-box" rx="5"/>
  <text x="1275" y="300" class="title-text">COUSR0A</text>
  <text x="1275" y="315" class="text">User List</text>
  <text x="1275" y="325" class="small-text">CU00</text>
  
  <rect x="1200" y="350" width="150" height="40" class="admin-box" rx="5"/>
  <text x="1275" y="370" class="text">COUSR1A - Add</text>
  <text x="1275" y="385" class="small-text">CU01</text>
  
  <rect x="1200" y="410" width="150" height="40" class="admin-box" rx="5"/>
  <text x="1275" y="430" class="text">COUSR2A - Update</text>
  <text x="1275" y="445" class="small-text">CU02</text>
  
  <rect x="1200" y="470" width="150" height="40" class="admin-box" rx="5"/>
  <text x="1275" y="490" class="text">COUSR3A - Delete</text>
  <text x="1275" y="505" class="small-text">CU03</text>
  
  <!-- Transaction Management -->
  <rect x="50" y="280" width="150" height="50" class="screen-box" rx="5"/>
  <text x="125" y="300" class="title-text">COTRN0A</text>
  <text x="125" y="315" class="text">Transaction List</text>
  <text x="125" y="325" class="small-text">CT00</text>
  
  <rect x="50" y="350" width="150" height="40" class="screen-box" rx="5"/>
  <text x="125" y="370" class="text">COTRN1A - Detail</text>
  <text x="125" y="385" class="small-text">CT01</text>
  
  <rect x="50" y="410" width="150" height="40" class="screen-box" rx="5"/>
  <text x="125" y="430" class="text">COTRN2A - Add</text>
  <text x="125" y="445" class="small-text">CT02</text>
  
  <!-- Account Management -->
  <rect x="250" y="280" width="150" height="50" class="screen-box" rx="5"/>
  <text x="325" y="300" class="title-text">CACTVWA</text>
  <text x="325" y="315" class="text">Account View</text>
  <text x="325" y="325" class="small-text">CAVW</text>
  
  <rect x="250" y="350" width="150" height="40" class="screen-box" rx="5"/>
  <text x="325" y="370" class="text">CACTUPC - Update</text>
  <text x="325" y="385" class="small-text">CAUP</text>
  
  <!-- Credit Card Management -->
  <rect x="450" y="280" width="150" height="50" class="screen-box" rx="5"/>
  <text x="525" y="300" class="title-text">CCRDLIA</text>
  <text x="525" y="315" class="text">Card List</text>
  <text x="525" y="325" class="small-text">CCLI</text>
  
  <rect x="450" y="350" width="150" height="40" class="screen-box" rx="5"/>
  <text x="525" y="370" class="text">CCRDSLA - Detail</text>
  <text x="525" y="385" class="small-text">CCDL</text>
  
  <rect x="450" y="410" width="150" height="40" class="screen-box" rx="5"/>
  <text x="525" y="430" class="text">CCRDUPA - Update</text>
  <text x="525" y="445" class="small-text">CCUP</text>
  
  <!-- Bill Payment -->
  <rect x="650" y="280" width="150" height="50" class="screen-box" rx="5"/>
  <text x="725" y="300" class="title-text">COBIL0A</text>
  <text x="725" y="315" class="text">Bill Payment</text>
  <text x="725" y="325" class="small-text">CB00</text>
  
  <!-- Reporting -->
  <rect x="850" y="280" width="150" height="50" class="screen-box" rx="5"/>
  <text x="925" y="300" class="title-text">CORPT0A</text>
  <text x="925" y="315" class="text">Reports</text>
  <text x="925" y="325" class="small-text">CR00</text>
  
  <!-- Navigation arrows from Main Menu -->
  <line x1="350" y1="230" x2="125" y2="280" class="arrow"/>
  <line x1="375" y1="230" x2="325" y2="280" class="arrow"/>
  <line x1="400" y1="230" x2="525" y2="280" class="arrow"/>
  <line x1="425" y1="230" x2="725" y2="280" class="arrow"/>
  <line x1="450" y1="230" x2="925" y2="280" class="arrow"/>
  
  <!-- Navigation arrows from Admin Menu -->
  <line x1="950" y1="230" x2="125" y2="280" class="admin-arrow"/>
  <line x1="975" y1="230" x2="325" y2="280" class="admin-arrow"/>
  <line x1="1000" y1="230" x2="525" y2="280" class="admin-arrow"/>
  <line x1="1025" y1="230" x2="725" y2="280" class="admin-arrow"/>
  <line x1="1050" y1="230" x2="925" y2="280" class="admin-arrow"/>
  <line x1="1100" y1="200" x2="1200" y2="305" class="admin-arrow"/>
  
  <!-- User Management sub-flows -->
  <line x1="1275" y1="330" x2="1275" y2="350" class="admin-arrow"/>
  <line x1="1260" y1="330" x2="1260" y2="410" class="admin-arrow"/>
  <line x1="1290" y1="330" x2="1290" y2="470" class="admin-arrow"/>
  
  <!-- Transaction sub-flows -->
  <line x1="125" y1="330" x2="125" y2="350" class="arrow"/>
  <line x1="110" y1="330" x2="110" y2="410" class="arrow"/>
  
  <!-- Card sub-flows -->
  <line x1="525" y1="330" x2="525" y2="350" class="arrow"/>
  <line x1="510" y1="330" x2="510" y2="410" class="arrow"/>
  
  <!-- Account sub-flows -->
  <line x1="325" y1="330" x2="325" y2="350" class="arrow"/>
  
  <!-- PF3 Return arrows -->
  <line x1="125" y1="280" x2="350" y2="230" class="pf-arrow"/>
  <line x1="325" y1="280" x2="375" y2="230" class="pf-arrow"/>
  <line x1="525" y1="280" x2="400" y2="230" class="pf-arrow"/>
  <line x1="725" y1="280" x2="425" y2="230" class="pf-arrow"/>
  <line x1="925" y1="280" x2="450" y2="230" class="pf-arrow"/>
  <line x1="1275" y1="280" x2="1050" y2="230" class="admin-arrow"/>
  
  <!-- Legend -->
  <rect x="50" y="550" width="300" height="180" fill="none" stroke="#6b7280" stroke-width="1"/>
  <text x="200" y="570" class="title-text">Legend</text>
  
  <rect x="70" y="580" width="20" height="15" class="entry-box"/>
  <text x="100" y="592" class="small-text" text-anchor="start">Entry Point</text>
  
  <rect x="70" y="605" width="20" height="15" class="menu-box"/>
  <text x="100" y="617" class="small-text" text-anchor="start">Regular User Menu</text>
  
  <rect x="70" y="630" width="20" height="15" class="admin-box"/>
  <text x="100" y="642" class="small-text" text-anchor="start">Admin Functions</text>
  
  <rect x="70" y="655" width="20" height="15" class="screen-box"/>
  <text x="100" y="667" class="small-text" text-anchor="start">Functional Screens</text>
  
  <line x1="70" y1="685" x2="90" y2="685" class="arrow"/>
  <text x="100" y="690" class="small-text" text-anchor="start">Navigation Flow</text>
  
  <line x1="70" y1="705" x2="90" y2="705" class="pf-arrow"/>
  <text x="100" y="710" class="small-text" text-anchor="start">PF3 Return</text>
  
  <!-- PF Key Reference -->
  <rect x="400" y="550" width="300" height="180" fill="none" stroke="#6b7280" stroke-width="1"/>
  <text x="550" y="570" class="title-text">PF Key Functions</text>
  
  <text x="420" y="590" class="small-text" text-anchor="start">PF3 - Exit/Return to Menu</text>
  <text x="420" y="610" class="small-text" text-anchor="start">PF4 - Clear Screen</text>
  <text x="420" y="630" class="small-text" text-anchor="start">PF5 - Execute Action</text>
  <text x="420" y="650" class="small-text" text-anchor="start">PF7 - Previous Page</text>
  <text x="420" y="670" class="small-text" text-anchor="start">PF8 - Next Page</text>
  <text x="420" y="690" class="small-text" text-anchor="start">PF12 - Return to Main Menu</text>
  
  <!-- Selection Codes -->
  <rect x="750" y="550" width="300" height="180" fill="none" stroke="#6b7280" stroke-width="1"/>
  <text x="900" y="570" class="title-text">Selection Codes</text>
  
  <text x="770" y="590" class="small-text" text-anchor="start">S - Select/View Details</text>
  <text x="770" y="610" class="small-text" text-anchor="start">U - Update Record</text>
  <text x="770" y="630" class="small-text" text-anchor="start">D - Delete Record</text>
  <text x="770" y="650" class="small-text" text-anchor="start">Option 1-6 - Menu Selections</text>
  <text x="770" y="670" class="small-text" text-anchor="start">ENTER - Process Input</text>
  
  <!-- Flow Description -->
  <text x="700" y="780" class="title-text">Application Flow Summary</text>
  <text x="700" y="800" class="text">1. Users authenticate through COSGN0A (Sign-on Screen)</text>
  <text x="700" y="820" class="text">2. Role-based routing to COMEN1A (Regular) or COADM1A (Admin)</text>
  <text x="700" y="840" class="text">3. Menu-driven navigation to functional areas</text>
  <text x="700" y="860" class="text">4. Consistent PF key patterns for navigation and actions</text>
  <text x="700" y="880" class="text">5. EXEC CICS XCTL for seamless program transfers</text>
  
  <!-- Technical Notes -->
  <text x="700" y="920" class="small-text">All screens use BMS maps with pseudo-conversational CICS design</text>
  <text x="700" y="940" class="small-text">Communication areas maintain session state across program transfers</text>
  <text x="700" y="960" class="small-text">18 COBOL programs analyzed for complete navigation flow coverage</text>
</svg>
